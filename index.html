<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Online Academy Guru</title>
  <link rel="stylesheet" href="style.css" />
  <link rel="icon" href="favicon.ico" />
  <style>
    /* AI Search Section */
    .ai-search {
      text-align: center;
      padding: 30px 15px;
      background: #fff;
      margin-top: 20px;
      box-shadow: 0 2px 8px rgba(0,0,0,0.05);
    }
    .ai-search h3 {
      color: #2a3d66;
      margin-bottom: 12px;
      font-size: 1.3rem;
    }
    #aiForm {
      display: flex;
      justify-content: center;
      align-items: center;
      gap: 10px;
      flex-wrap: wrap;
    }
    #aiInput {
      width: 70%;
      max-width: 480px;
      padding: 10px;
      border: 1px solid #ccc;
      border-radius: 8px;
      font-size: 1rem;
      outline: none;
    }
    #aiSend {
      background: #2a3d66;
      color: #fff;
      border: none;
      padding: 10px 16px;
      border-radius: 8px;
      cursor: pointer;
      font-size: 1rem;
    }
    #aiSend:hover {
      background: #1f2f54;
    }

    /* Chat box */
    #aiChat {
      margin-top: 18px;
      max-width: 720px;
      margin-inline: auto;
      background: #f9fafc;
      border-radius: 12px;
      box-shadow: 0 2px 8px rgba(0,0,0,0.08);
      padding: 16px;
      text-align: left;
      font-size: 0.95rem;
      line-height: 1.5;
      display: none;
    }
    .msg {
      margin-bottom: 12px;
      padding: 10px 14px;
      border-radius: 12px;
      max-width: 85%;
      word-wrap: break-word;
    }
    .user {
      background: #2a3d66;
      color: #fff;
      margin-left: auto;
      border-bottom-right-radius: 4px;
    }
    .ai {
      background: #e8ecf8;
      color: #333;
      margin-right: auto;
      border-bottom-left-radius: 4px;
    }
    @keyframes blink {
      0% { opacity: 0.2; }
      50% { opacity: 1; }
      100% { opacity: 0.2; }
    }
    .typing span {
      animation: blink 1.2s infinite;
    }
  </style>
</head>
<body>
<header>
  <div class="container header-content">
    <h1 class="logo">üéì Online Academy Guru</h1>
    <p class="tagline">Empowering Students with Expert-Led Learning.</p>
    <nav>
      <a href="index.html" class="active">Home</a>
      <a href="about.html">About</a>
      <a href="courses.html">Courses</a>
      <a href="contact.html">Contact Us</a>
    </nav>
  </div>
</header>

<section class="hero">
  <div class="hero-content">
    <h2>Learn, Grow, Succeed</h2>
    <p>Your premier online learning platform connecting students with expert tutors for interactive, personalized learning.</p>
    <a href="courses.html" class="btn">Explore Courses</a>
  </div>
</section>

<!-- ‚úÖ AI Search placed BELOW hero -->
<section class="ai-search">
  <h3>üîç Search with AI Tutor</h3>
  <form id="aiForm">
    <input id="aiInput" placeholder="Ask your question..." autocomplete="off" />
    <button id="aiSend" type="submit">Search</button>
  </form>
  <div id="aiChat"></div>
</section>

<section class="features container">
  <div class="feature">
    <h3>üë®‚Äçüè´ Expert Tutors</h3>
    <p>Learn from highly qualified tutors who care about your success.</p>
  </div>
  <div class="feature">
    <h3>üß† Personalized Learning</h3>
    <p>Tailored learning plans designed for your strengths and goals.</p>
  </div>
  <div class="feature">
    <h3>üíª Interactive Classes</h3>
    <p>Live sessions, quizzes, and guided study for real results.</p>
  </div>
</section>

<section class="tutors container">
  <h2>Meet Our Tutors</h2>
  <div class="tutor-grid">
    <div class="tutor-card">
      <img src="tutor1.jpg" alt="Tutor">
      <h4>Mr. Vikas Kumar</h4>
      <p>Founder, Online Academy Guru</p>
      <p>Mathematics Expert</p>
    </div>
    <div class="tutor-card">
      <img src="tutor2.jpg" alt="Tutor">
      <h4>Ms. Ananya Roy</h4>
      <p>Science Specialist</p>
    </div>
    <div class="tutor-card">
      <img src="tutor3.jpg" alt="Tutor">
      <h4>Mr. Arjun Patel</h4>
      <p>English Language Coach</p>
    </div>
  </div>
</section>

<section class="testimonials container">
  <h2>Student Testimonials</h2>
  <div class="testimonial">
    <p>"Online Academy Guru transformed my learning experience. The tutors are amazing!"</p>
    <span>- Priya K.</span>
  </div>
  <div class="testimonial">
    <p>"The personalized classes helped me improve my grades and confidence."</p>
    <span>- Rohit S.</span>
  </div>
</section>

<footer>
  <p>¬© 2025 Online Academy Guru. All rights reserved.</p>
</footer>

<!-- ‚úÖ Updated AI Script -->
<script>
  const APP_SCRIPT_URL = "https://script.google.com/macros/s/AKfycbzvJF7f8eOzi5cyLdopM_58SFFcElKeXwBrdsO3zxxJHI7UXwMsjrDkwaJKmcZJjn3P/exec";

  const form = document.getElementById("aiForm");
  const input = document.getElementById("aiInput");
  const chat = document.getElementById("aiChat");

  async function callAI(prompt) {
    try {
      const res = await fetch(APP_SCRIPT_URL, {
        method: "POST",
        headers: { "Content-Type": "application/json" },
        body: JSON.stringify({ prompt }) // ‚úÖ matches backend field
      });

      if (!res.ok) throw new Error("Network error");
      const data = await res.json();
      return data.reply || "No response from AI."; // ‚úÖ matches backend key
    } catch (err) {
      console.error(err);
      return "‚ö†Ô∏è Error connecting to AI service.";
    }
  }

  function appendMessage(text, sender) {
    const div = document.createElement("div");
    div.className = `msg ${sender}`;
    div.textContent = text;
    chat.appendChild(div);
    chat.style.display = "block";
    chat.scrollTop = chat.scrollHeight;
  }

  function showTyping() {
    const div = document.createElement("div");
    div.className = "msg ai typing";
    div.innerHTML = "<span>‚óè</span> <span>‚óè</span> <span>‚óè</span>";
    chat.appendChild(div);
    chat.scrollTop = chat.scrollHeight;
    return div;
  }

  form.addEventListener("submit", async (e) => {
    e.preventDefault();
    const question = input.value.trim();
    if (!question) return;

    appendMessage(question, "user");
    input.value = "";

    const typing = showTyping();
    const reply = await callAI(question);
    typing.remove();

    appendMessage(reply, "ai");
  });
</script>

</body>
</html>

